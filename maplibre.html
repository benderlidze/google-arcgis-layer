<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Display a satellite map</title>
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
    <script src="https://unpkg.com/maplibre-gl@2.1.9/dist/maplibre-gl.js"></script>
    <link href="https://unpkg.com/maplibre-gl@2.1.9/dist/maplibre-gl.css" rel="stylesheet" />
    <style>
        html,
        body,
        #map {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }

        body {
            background: #fff;
        }

        #map {
            position: absolute;
            top: 0;
            left: 0;
            right: 200px;
            bottom: 0;
        }

        #layerList {
            position: absolute;
            top: 5px;
            right: 0;
            bottom: 50%;
            width: 190px;
            overflow: auto;
        }

        #layerList div {
            color: #333;
        }

        #layerList div div {
            width: 15px;
            height: 15px;
            display: inline-block;
        }

        #propertyList {
            position: absolute;
            top: 50%;
            bottom: 0;
            right: 0;
            width: 190px;
            overflow: auto;
            color: #000;
        }

        .mapboxgl-control-container div {
            z-index: 100;
        }
    </style>
</head>

<body>
    <div id="map"></div>
    <div id="layerList"></div>
    <pre id="propertyList"></pre>
    <script>
        var map = new maplibregl.Map({
            container: 'map',
            zoom: 6,
            center: { lng: 144.92432427238145, lat: -22.690190313782267 },
            style:
                'https://api.maptiler.com/maps/hybrid/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL'
        });


        map.on("load", () => {

            var tileJSON = { "name": "ne_10m_railroads.mbtiles", "description": "ne_10m_railroads.mbtiles", "version": "2", "minzoom": 0, "maxzoom": 14, "center": [153.094482, -27.244862, 14], "bounds": [137.994646, -29.177782, 153.550438, -10.243336], "type": "overlay", "format": "pbf", "generator": "tippecanoe v1.35.0", "generator_options": "tippecanoe -zg -o ne_10m_railroads.mbtiles --drop-densest-as-needed --extend-zooms-if-still-dropping esri.json", "basename": "ne_10m_railroads", "profile": "mercator", "scale": 1, "tiles": ["https://serg.one/mbtiles/ne_10m_railroads/{z}/{x}/{y}.pbf"], "tilejson": "2.0.0", "scheme": "xyz", "grids": ["https://serg.one/mbtiles/ne_10m_railroads/{z}/{x}/{y}.grid.json"], "vector_layers": [{ "id": "esri", "description": "", "minzoom": 0, "maxzoom": 14, "fields": { "COVERAGE": "String", "LGA": "String", "OBJECTID": "Number", "PROPERTY_A": "String", "PROPERTY_I": "Number", "REAL_PROPE": "String", "SHAPE_Area": "Number", "SHAPE_Leng": "Number", "TOTALLOTS": "Number" } }], "tilestats": { "layerCount": 1, "layers": [{ "layer": "esri", "count": 1737307, "geometry": "Polygon", "attributeCount": 9, "attributes": [{ "attribute": "COVERAGE", "count": 4, "type": "string", "values": ["B", "S", "V", "Y"] }, { "attribute": "LGA", "count": 85, "type": "string", "values": ["1000/01", "1000/02", "1000/03", "1000/04", "1000/05", "1000/06", "1000/07", "1000/08", "1000/09", "1000/10", "1000/11", "1000/12", "1000/13", "1000/14", "1000/15", "1000/16", "1000/17", "1000/18", "1000/19", "1000/20", "1750", "1820", "1900", "1950", "2080", "2250", "2260", "2270", "2310", "2450", "2500", "2600", "2750", "2810", "300", "3100", "3200", "3220", "3360", "3430/01", "3430/02", "3610", "3620", "370", "3800", "3960", "3980", "410", "450", "4530", "4580", "4590", "4710", "4770", "4800", "4860", "4880", "5010/01", "5010/02", "5010/03", "5300", "5600", "5740", "5760", "5800", "6150", "6250", "6300", "6370", "6510", "6580", "6630", "6660", "6720/01", "6720/02", "6820", "6910", "6950", "7010", "7300", "7310", "7340", "7400", "760", "900"] }, { "attribute": "OBJECTID", "count": 1000, "type": "number", "values": [1, 10, 100, 1000, 10000, 100000, 1000000, 1000001, 1000002, 1000003, 1000004, 1000005, 1000006, 1000007, 1000008, 1000009, 100001, 1000010, 1000011, 1000012, 1000013, 1000014, 1000015, 1000016, 1000017, 1000018, 1000019, 100002, 1000020, 1000021, 1000022, 1000023, 1000024, 1000025, 1000026, 1000027, 1000028, 1000029, 100003, 1000030, 1000031, 1000032, 1000033, 1000034, 1000035, 1000036, 1000037, 1000038, 1000039, 100004, 1000040, 1000041, 1000042, 1000043, 1000044, 1000045, 1000046, 1000047, 1000048, 1000049, 100005, 1000050, 1000051, 1000052, 1000053, 1000054, 1000055, 1000056, 1000057, 1000058, 1000059, 100006, 1000060, 1000061, 1000062, 1000063, 1000064, 1000065, 1000066, 1000067, 1000068, 1000069, 100007, 1000070, 1000071, 1000072, 1000073, 1000074, 1000075, 1000076, 1000077, 1000078, 1000079, 100008, 1000080, 1000081, 1000082, 1000083, 1000084, 1000085], "min": 1, "max": 1737307 }, { "attribute": "PROPERTY_A", "count": 1000, "type": "string", "values": ["0 m2", "1 ha", "1 m2", "1.0001 ha", "1.0002 ha", "1.0003 ha", "1.0004 ha", "1.0005 ha", "1.0006 ha", "1.0007 ha", "1.0008 ha", "1.001 ha", "1.0011 ha", "1.0012 ha", "1.0013 ha", "1.0014 ha", "1.0016 ha", "1.0019 ha", "1.002 ha", "1.0024 ha", "1.0025 ha", "1.0029 ha", "1.003 ha", "1.004 ha", "1.0044 ha", "1.0045 ha", "1.0048 ha", "1.005 ha", "1.0055 ha", "1.0057 ha", "1.006 ha", "1.0062 ha", "1.0066 ha", "1.0068 ha", "1.0069 ha", "1.007 ha", "1.0071 ha", "1.0073 ha", "1.0077 ha", "1.0079 ha", "1.008 ha", "1.0082 ha", "1.0089 ha", "1.009 ha", "1.0091 ha", "1.0092 ha", "1.0094 ha", "1.0095 ha", "1.0096 ha", "1.0097 ha", "1.0098 ha", "1.0099 ha", "1.01 ha", "1.0101 ha", "1.0102 ha", "1.0104 ha", "1.0105 ha", "1.0107 ha", "1.0108 ha", "1.0109 ha", "1.011 ha", "1.0111 ha", "1.0112 ha", "1.0113 ha", "1.0115 ha", "1.0116 ha", "1.0117 ha", "1.0118 ha", "1.012 ha", "1.0122 ha", "1.0123 ha", "1.0124 ha", "1.0125 ha", "1.0126 ha", "1.0127 ha", "1.0129 ha", "1.013 ha", "1.0131 ha", "1.0132 ha", "1.0135 ha", "1.0137 ha", "1.0138 ha", "1.0139 ha", "1.014 ha", "1.0142 ha", "1.0145 ha", "1.0149 ha", "1.015 ha", "1.0152 ha", "1.0154 ha", "1.0155 ha", "1.016 ha", "1.0164 ha", "1.0165 ha", "1.017 ha", "1.0176 ha", "1.0178 ha", "1.018 ha", "1.0181 ha", "1.0183 ha"] }, { "attribute": "PROPERTY_I", "count": 1000, "type": "number", "values": [100, 1000, 10000, 1000001, 1000003, 1000004, 1000005, 1000006, 1000007, 1000011, 1000012, 1000013, 1000014, 1000015, 1000016, 1000017, 100002, 1000024, 1000026, 1000028, 1000029, 100003, 1000030, 1000031, 1000034, 1000036, 1000038, 1000039, 100004, 1000040, 1000041, 1000042, 1000043, 1000044, 1000045, 1000046, 1000047, 1000048, 1000049, 100005, 1000050, 1000051, 1000052, 1000055, 1000056, 1000057, 1000058, 1000059, 100006, 1000061, 1000063, 1000066, 1000067, 100007, 1000071, 1000072, 1000073, 1000074, 1000075, 1000076, 1000079, 100008, 1000081, 1000082, 1000083, 1000086, 1000087, 1000088, 1000089, 100009, 1000090, 1000091, 1000092, 1000093, 1000095, 1000096, 1000097, 10001, 100010, 100011, 1000110, 1000111, 1000112, 1000113, 1000114, 1000115, 1000116, 1000117, 1000118, 1000119, 100012, 1000120, 1000121, 1000122, 100013, 1000132, 1000133, 1000136, 1000138, 1000139], "min": 2, "max": 41645498 }, { "attribute": "REAL_PROPE", "count": 1000, "type": "string", "values": ["L1 A1551", "L1 A17081", "L1 A1844", "L1 A203780:SUBLEASED & L270 CP867391", "L1 A23715", "L1 A23718", "L1 A23722", "L1 A23723", "L1 A2375", "L1 A239", "L1 A241", "L1 A24512", "L1 A26512", "L1 A26518", "L1 A2887 & L3 RP147900 & L2 RP148708", "L1 A2888 & L1-4 RP188482", "L1 A30117", "L1 A30120", "L1 A30129", "L1 A3013", "L1 A3014", "L1 A3018", "L1 A3024", "L1 A31928", "L1 A33918", "L1 A33919", "L1 A33920", "L1 A33921", "L1 A33922", "L1 A33927", "L1 A33929", "L1 A33930", "L1 A3398", "L1 A3399", "L1 A341097 & L4 RP225668 & L1-2 RP25506 & L12-13 RP25507 & L1-2 RP25510 & L2 RP25511 & L3 RP25520 & L5-9,11 RP25526 & L4 RP25529 & L2 RP49551", "L1 A341562", "L1 A341936", "L1 A342238 & L1966 A34939 & L1 RP164478 & L1 RP25516 & L3 RP54131", "L1 A342263", "L1 A342418", "L1 A342435", "L1 A342446 & L15 RP806008", "L1 A34796 & L2 RP29954", "L1 A42815", "L1 A42822", "L1 A42826", "L1 A4284", "L1 A4732", "L1 A5203", "L1 A7662", "L1 A7665", "L1 A77412", "L1 A77413", "L1 A7746", "L1 A7781", "L1 A77811 & L24 A77813", "L1 A77820", "L1 A77821", "L1 A7784", "L1 A85911", "L1 A8597", "L1 A9115", "L1 AA15", "L1 AA29:PH 13/5182 WEST LEICHHARDT HOLDING", "L1 AB110 & L2 AB237", "L1 AB144 & L2 AB177", "L1 AB193 & L2 AB194", "L1 AB249:STATE FOREST 0:SL 36/51666 & L2 AB249", "L1 AB842550:GHPL 40/1749 & L3 LE212:STATE FOREST 0:SL 200773 & L2-3 AB83 & L5 SP229751", "L1 AE116 & L4 EL15 & L7 EL23:GHPL 45/3772 & L7 EL16 & L1 EL7:PH 45/5162 TORBURRA HOLDING & L8 EL16 & L8 EL21:PH 45/5163 & L1 PER2582:PO 45/2582", "L1 AE12 & L5 WM28:GHPL 45/3700 & L2-3 AE12:GHPL 45/3773 & L4 AE69:TL 234242 & L6 G24922 & L4 WM28:GHPL 45/3699", "L1 AE145", "L1 AE160:(NON-SPECIFIC) RESERVE 92", "L1 AE162", "L1 AG1014", "L1 AG1514 & L1 RP24473 & L2,5 RP24474", "L1 AG1752", "L1 AG1824", "L1 AG1999 & L49 AG2671 & L8,35 AG3206 & L2 RP119105 & L49 RP29940 & L52 RP29941", "L1 AG2113", "L1 AG212", "L1 AG2145", "L1 AG2394", "L1 AG2410 & L2 RP140000 & L1 RP14235 & L1 RP179600", "L1 AG2617", "L1 AG2707", "L1 AG2795", "L1 AG2805", "L1 AG2894", "L1 AG2956 & L5 RP52015 & L3 RP98210", "L1 AG3051", "L1 AG3091", "L1 AG3159 & L3 RP14891 & L2-3 RP53435", "L1 AG328", "L1 AG3348 & L3-4 SP301100", "L1 AG3456", "L1 AG3507", "L1 AG3625", "L1 AG3724", "L1 AG38"] }, { "attribute": "SHAPE_Area", "count": 1000, "type": "number", "values": [0.000001000055363, 0.000001000173614, 0.000001000191973, 0.000001000193927, 0.000001000195372, 0.000001000230293, 0.000001000234847, 0.000001000242657, 0.000001000248837, 0.000001000256208, 0.000001000258741, 0.000001000259151, 0.000001000272444, 0.000001000279947, 0.000001000288537, 0.000001000289958, 0.000001000302833, 0.000001000374503, 0.000001000376507, 0.000001000379284, 0.000001000390667, 0.000001000404091, 0.000001000406257, 0.000001000407094, 0.000001000416415, 0.000001000420083, 0.000001000422892, 0.000001000427098, 0.000001000474737, 0.000001000487375, 0.000001000540391, 0.000001000621218, 0.000001000658889, 0.000001000680534, 0.000001000694124, 0.000001000726794, 0.000001000745878, 0.000001000749064, 0.000001000759761, 0.00000100076786, 0.000001000775334, 0.00000100078117, 0.000001000781827, 0.000001000802841, 0.000001000810619, 0.000001000818561, 0.000001000840631, 0.000001000848399, 0.00000100085715, 0.000001000920492, 0.000001000931894, 0.00000100094573, 0.000001000965535, 0.00000100097001, 0.00000100098857, 0.000001000993318, 0.000001001016199, 0.000001001042859, 0.000001001069338, 0.000001001079509, 0.000001001082364, 0.000001001106621, 0.000001001109762, 0.000001001114505, 0.000001001150431, 0.000001001188657, 0.000001001213606, 0.000001001227405, 0.000001001230458, 0.000001001250441, 0.000001001275283, 0.000001001278716, 0.000001001316353, 0.000001001319954, 0.000001001323631, 0.00000100133367, 0.000001001375173, 0.00000100138916, 0.000001001403257, 0.000001001418382, 0.000001001427557, 0.000001001432336, 0.00000100143311, 0.000001001449393, 0.000001001458288, 0.000001001467274, 0.000001001467321, 0.00000100146779, 0.000001001483815, 0.000001001521578, 0.000001001533767, 0.000001001540178, 0.000001001546317, 0.000001001549684, 0.000001001554232, 0.000001001583121, 0.000001001599396, 0.000001001604676, 0.000001001604703, 0.000001001614573], "min": 7.7285e-11, "max": 1.499448938497564 }, { "attribute": "SHAPE_Leng", "count": 1000, "type": "number", "values": [0.000032138715429, 0.000032511365002, 0.000038751138516, 0.000058921558407, 0.000058943184141, 0.000059123765322, 0.000064915153158, 0.00007626142515, 0.000077071424081, 0.000081222026201, 0.000082515905017, 0.000085390740333, 0.000086176534573, 0.000087329285965, 0.000088725209073, 0.000090354591088, 0.000093057347076, 0.000093391961372, 0.000100289136467, 0.000101679512522, 0.000110482552053, 0.000111900914089, 0.000112952296037, 0.000113035490916, 0.000115447765894, 0.000115514220633, 0.000115640097815, 0.000116090421201, 0.000116652978683, 0.000117374188664, 0.000117751871094, 0.000117802591886, 0.000117836467792, 0.00011811266036, 0.00011915958363, 0.000119291103333, 0.000119449214608, 0.000119872051585, 0.000119881735653, 0.000120792325449, 0.000120882956814, 0.000121007364404, 0.000121472367281, 0.00012193807421, 0.000123066147321, 0.00012351199227, 0.000123894673615, 0.000123972397028, 0.000124211312691, 0.000124719252306, 0.000125730850782, 0.000125939313408, 0.000126167831263, 0.000126261434605, 0.000126862694509, 0.000127013805943, 0.00012702147308, 0.000127141755327, 0.000127188021407, 0.000127205791783, 0.00012722236913, 0.000127230261314, 0.000127235128024, 0.000127303273386, 0.000127852336718, 0.000128023540618, 0.000128708567403, 0.000128782852529, 0.000128890133642, 0.000129071191823, 0.000129658892924, 0.000129670442234, 0.000129713090343, 0.000129742161724, 0.000129755367385, 0.000129767087971, 0.000130300044533, 0.000130843133664, 0.000132680834431, 0.000132997124007, 0.000133179084571, 0.000133547317489, 0.000133915856256, 0.000134058630339, 0.000134061753169, 0.000134221247291, 0.000134313444515, 0.00013433479668, 0.000134523704346, 0.000134548914685, 0.000134623851071, 0.000134870111144, 0.000134876437532, 0.000134975319042, 0.000135036202484, 0.000135078564928, 0.000135412448151, 0.000135485754844, 0.000135523083021, 0.00013584748707], "min": 0.000032138715429, "max": 23.11846919563546 }, { "attribute": "TOTALLOTS", "count": 316, "type": "number", "values": [1, 10, 100, 101, 1012, 102, 103, 1037, 104, 105, 106, 107, 108, 109, 11, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 12, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 13, 130, 131, 1313, 132, 133, 134, 135, 136, 137, 1371, 138, 139, 14, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 15, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 16, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 17, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 18, 180, 182, 183, 184, 185, 186], "min": 1, "max": 1371 }] }] }, "zoom": 7, "tileUrl": "https://serg.one/mbtiles/ne_10m_railroads/14/15159/9481.pbf" };
            initLayer(tileJSON);


        })
        function initLayer(data) {
            var layer;
            var layerList = document.getElementById('layerList');
            var layers_ = [];
            data['vector_layers'].forEach(function (el) {

                map.addSource('mapillary', {
                    'type': 'vector',
                    tiles: data['tiles'],
                    minzoom: data['minzoom'],
                    maxzoom: data['maxzoom']
                });
                map.addLayer(
                    {
                        'id': 'mapillary',
                        'type': 'line',
                        'source': 'mapillary',
                        'source-layer': el['id'],
                        'layout': {
                            'line-cap': 'round',
                            'line-join': 'round'
                        },
                        'paint': {
                            'line-opacity': 0.3,
                            'line-color': 'white',
                            'line-width': 2
                        }
                    },
                );

                map.addLayer({
                    'id': 'urban-areas-fill',
                    'type': 'fill',
                    'source': 'mapillary',
                    'source-layer': el['id'],
                    'layout': {},
                    'paint': {
                        'fill-color': '#f08',
                        'fill-opacity': 0.4
                    }
                },
                );

            })


        }

        map.on('mousemove', function (e) {
            propertyList.innerHTML = '';
            // map.featuresAt(e.point, { radius: 3 }, function (err, features) {
            //     if (err) throw err;
            //     if (features[0]) {
            //         propertyList.innerHTML = JSON.stringify(features[0].properties, null, 2);
            //     }
            // });
        });


    </script>

</body>

</html>